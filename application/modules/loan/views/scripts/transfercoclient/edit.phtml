<?php
    $tr = Application_Form_FrmLanguages::getCurrentlanguage();	
    echo $this->headTitle($tr->translate('EDIT_TRANSFER_CLIENT_CO')); 
	$frm = $this->frm_transfer;
	$baseurl =  Zend_Controller_Front::getInstance()->getBaseUrl();
?>
<div class="card">
	<div class="card-header">
		<h5 class="card-title mb-0"><i class="fa fa-edit"></i>&nbsp;<?php echo $tr->translate('EDIT_TRANSFER_CLIENT_CO');?></h5>
	</div>
	<div class="card-body">
    	<form id='frm_add_tran' action="<?php echo $this->url(array('module'=>'loan','controller'=>'transfercoclient','action'=>'edit')); ?>" 
				dojoType="dijit.form.Form" method="post" enctype="application/x-www-form-urlencoded">
				<script type="dojo/method" event="onSubmit">			
   				if(this.validate()) {
    				if(dijit.byId('branch_name').get('value')==''){
     					infoMessageAlert('Please Select Branch');
     					dijit.byId('branch_name').focus();
    					 return false;
   					}
    				if(dijit.byId('name_co').get('value')==''){
     					infoMessageAlert('Please Select Name Co');
     					dijit.byId('name_co').focus();
     					return false;
   					}
					if(dijit.byId('customer_code').get('value')==''){
     					infoMessageAlert('Please Select Customer Code');
     					dijit.byId('customer_code').focus();
     					return false;
   					}
					if(dijit.byId('member').get('value')==''){
     					infoMessageAlert('Please Select Customer Name');
     					dijit.byId('member').focus();
     					return false;
   					}
    			return true;
   			}else {
    			return false;
   			}
			</script>
			<div class="row">
				<div class="col-md-4 col-sm-4 col-xs-12">
					<div class="row g-3">
	                   <label class="control-label col-md-12 col-sm-12 col-xs-12 title-blog bold" for="first-name"><i class="fa fa-hand-o-right" aria-hidden="true"></i> <?php echo $tr->translate("CUSTOMER_INFO");?> 
	                   </label>
	                </div>
					<div class="row g-3">
	                   <label class="control-label col-md-5 col-sm-5 col-xs-12" for="first-name"><?php echo $tr->translate("CUSTOMER_CODE");?>
	                   </label>
	                   <div class="col-md-7 col-sm-7 col-xs-12">
	                   		<?php  echo $frm->getElement('customer_code');?>
	                   </div>
	                </div>
	                <div class="row g-3">
	                   <label class="control-label col-md-5 col-sm-5 col-xs-12" for="first-name"><?php echo $tr->translate("CUSTOMER_NAME");?>
	                   </label>
	                   <div class="col-md-7 col-sm-7 col-xs-12">
	                   		<?php  echo $frm->getElement('member');?>
	                   </div>
	                </div>
	                <div class="row g-3">
	                   <label class="control-label col-md-5 col-sm-5 col-xs-12" for="first-name"><?php echo $tr->translate("NOTE");?>
	                   </label>
	                   <div class="col-md-7 col-sm-7 col-xs-12">
	                   		<?php  echo $frm->getElement('Note');?>
	                   </div>
	                </div>
	            </div>
	            <div class="col-md-4 col-sm-4 col-xs-12">
					<div class="row g-3">
	                   <label class="control-label col-md-12 col-sm-12 col-xs-12 title-blog bold" for="first-name"><i class="fa fa-hand-o-right" aria-hidden="true"></i> <?php echo $tr->translate("BRANCH_INFO");?> 
	                   </label>
	                </div>
					<div class="row g-3">
	                   <label class="control-label col-md-5 col-sm-5 col-xs-12" for="first-name"><?php echo $tr->translate("BRANCH_NAME");?>
	                   </label>
	                   <div class="col-md-7 col-sm-7 col-xs-12">
	                   		<?php  echo $frm->getElement('branch_name');?>
	                   </div>
	                </div>
	                <div class="row g-3">
	                   <label class="control-label col-md-5 col-sm-5 col-xs-12" for="first-name"><?php echo $tr->translate("TO_CO");?>
	                   </label>
	                   <div class="col-md-7 col-sm-7 col-xs-12">
	                   		<?php  echo $frm->getElement('name_co');?>
	                   </div>
	                </div>
	                <div class="row g-3">
	                   <label class="control-label col-md-5 col-sm-5 col-xs-12" for="first-name"><?php echo $tr->translate("DATE");?>
	                   </label>
	                   <div class="col-md-7 col-sm-7 col-xs-12">
	                   		<?php  echo $frm->getElement('Date');?>
	                   </div>
	                </div>
	                <div class="row g-3">
	                   <label class="control-label col-md-5 col-sm-5 col-xs-12" for="first-name"><?php echo $tr->translate("STATUS");?>
	                   </label>
	                   <div class="col-md-7 col-sm-7 col-xs-12">
	                   		<?php  echo $frm->getElement('status');?>
	                   </div>
	                </div>
	            </div>
	        </div>
	        <div class="card-box">
	        	<div class="col-sm-12 border-top mt-2 py-2 text-center">
	        		<input type="submit" class="button-class button-primary" iconClass="glyphicon glyphicon-floppy-disk" value="រក្សាទុក" name="btn_save" label="<?php echo $tr->translate('GO_EDIT');?>" id="submitButton" dojoType="dijit.form.Button" />
	    		</div>
	        </div>
		</form>
    </div>
</div>
<script type="text/javascript">
	dojo.require("dijit.form.DateTextBox");
	dojo.require("dijit.form.NumberTextBox");
	dojo.require("dijit.form.Textarea");

	function getClientInfo(type){
		if(type==1){						
			id = dijit.byId("member").get('value');
			dijit.byId("customer_code").attr('value',id);
		}else if(type==2){
			id = dijit.byId("customer_code").get('value');
			dijit.byId("member").attr('value',id);
		}
		else if(type==3){		
			to = dijit.byId("name_client").get('value');		
			dijit.byId("code_client").attr('value',to);
			dijit.byId("name_client").attr('value',to);
		}else if(type==4){
			to = dijit.byId("code_client").get('value');
			dijit.byId("code_client").attr('value',to);
			dijit.byId("name_client").attr('value',to);
		}
	}
</script>
